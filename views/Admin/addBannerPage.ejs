<%- include('header') %>

 

<div class="page-body">

    <!-- New Product Add Start -->
    <div class="container-fluid">
        
           
                <div class="row">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-sm-8 m-auto">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="card-header-2">
                                            <h5>Banner Information</h5>
                                        </div>

                                        <form class="theme-form theme-form-2 mega-form"
                                            action="/admin/addBanner"
                                            enctype="multipart/form-data" role="form" method="post">
                                            <div class="mb-4 row align-items-center">
                                                <label class="form-label-title col-sm-3 mb-0">Banner
                                                    Name</label>
                                                <div class="col-sm-9">
                                                    <input  class="form-control" name="name"
                                                        type="text" placeholder="Banner Name" id="bannername">
                                                </div>
                                                <p id="nameError" style="color:red;margin-left:220px;"></p>
                                            </div>

                                            <div class="card-body">

                                            </div>

                                            <div class="mb-4 row align-items-center">
                                                <label
                                                    class="col-sm-3 col-form-label form-label-title">Banner
                                                    Image</label>

                                                <div class="form-group col-sm-9">
                                                    <div class="input-upload">
                                                        <img 
                                                            src=""
                                                            alt="" id="imgView1" style="width: 50%;height: 50%;">
                                                        <input  class="form-control" type="file"
                                                            name="image" id="input1"
                                                            accept="image/png, image/jpeg, image/jpg"
                                                            onchange="viewImage1(event),viewImage(event, 1)">
                                                    </div>
                                                    <p id="ImageError" style="color:red ;"></p>
                                                    <div class="image-cropper"
                                                        style="display:none; width: 300px; height: 200px;margin-top: -500px;">
                                                        <img src="" id="croppedImg1" alt="">
                                                        <button type="button" id="saveButton1"
                                                            class="btn-sm btn-primary">Save</button>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="mb-4 row align-items-center">
                                                <label
                                                    class="col-sm-3 col-form-label form-label-title">Status</label>
                                                <div
                                                    class="col-sm-3 col-form-label form-label-title">
                                                    <input type="radio" id="html" name="status"
                                                        value="enabled" checked="checked">
                                                    <label for="html">Enable</label>
                                                    <input type="radio" id="css" name="status"
                                                        value="disabled">
                                                    <label for="css">Disable</label>
                                                </div>
                                            </div>

                                            <div class="col-xxl-4">
                                                <button type="submit"
                                                    class="btn text-white theme-bg-color" onclick="validateForm(event)">Add
                                                    Banner</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
    </div>
    <!-- New Product Add End -->

</div>


            <!-- Modal Start -->
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1">
                <div class="modal-dialog  modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h5 class="modal-title" id="staticBackdropLabel">Logging Out</h5>
                            <p>Are you sure you want to log out?</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            <div class="button-box">
                                <button type="button" class="btn btn--no" data-bs-dismiss="modal">No</button>
                                <button type="button" class="btn  btn--yes btn-primary">Yes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal End -->
 <script src="https://cdn.jsdelivr.net/npm/cropperjs/dist/cropper.min.js"></script>
 
<style>

    img {
    display: block;
    max-width: 50%;
    max-height: 40%;
    }
</style>
<script>
    
function validateForm(){
    var status = $("input[name='status']:checked").val();

    const name=document.getElementById('bannername').value
   
    const image=document.getElementById('input1')
  
 
    
    const nameRegex = /^[A-Za-z]+(?: [A-Za-z]+)*$/;

    if(nameRegex.test(name)){
        nameError.innerHTML=''
    }else{
        nameError.innerHTML='Add a valid name'
        event.preventDefault()

    }
    var validImageTypes = ['image/jpeg', 'image/png', 'image/gif'];
            for (var i = 0; i < image.files.length; i++) {
                var fileType = image.files[i].type

                if (!validImageTypes.includes(fileType)) {

                    ImageError.innerHTML = 'Upload images with jpeg / png / gif formats '
                    event.preventDefault()
                    return
                }
            }

            if (image.files.length ===0 ) {
                
                ImageError.innerHTML = 'Upload banner image to continue !'
                event.preventDefault()
            } else if (image.files.length >1 ) {
               
                ImageError.innerHTML = 'Maximum 1 banner image is allowed !'
                event.preventDefault()
            } else {

                ImageError.innerHTML = ''

            }

}
   
 
</script>

<script src="/adminassets/js/jquery-3.6.0.min.js"></script>
<script src="/adminassets/js/bootstrap/bootstrap.bundle.min.js"></script>
<script src="/adminassets/js/icons/feather-icon/feather.min.js"></script>
<script src="/adminassets/js/icons/feather-icon/feather-icon.js"></script>
<script src="/adminassets/js/scrollbar/simplebar.js"></script>
<script src="/adminassets/js/scrollbar/custom.js"></script>
<script src="/adminassets/js/config.js"></script>
<script src="/adminassets/js/customizer.js"></script>
<script src="/adminassets/js/sidebar-menu.js"></script>
<script src="/adminassets/js/notify/bootstrap-notify.min.js"></script>
<script src="/adminassets/js/notify/index.js"></script>
<script src="/adminassets/js/jquery.dataTables.js"></script>
<script src="/adminassets/js/custom-data-table.js"></script>
<script src="/adminassets/js/sidebareffect.js"></script>
<script src="/adminassets/js/script.js"></script>
</body>


</html>